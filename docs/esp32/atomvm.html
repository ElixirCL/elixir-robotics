<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AtomVM :: Electrónica, Robótica e IOT con Elixir</title>
    <link rel="canonical" href="https://elixircl.github.io/elixir-robotics/esp32/atomvm.html">
    <link rel="prev" href="esp32.html">
    <link rel="next" href="gladiators.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../_/css/site.css">
    <link rel="stylesheet" href="../_/js/vendor/styles/monokai.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://elixircl.github.io/elixir-robotics">Electrónica, Robótica e IOT con Elixir</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Buscar en documentos">
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <!--
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
    -->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Electrónica, Robótica e IOT con Elixir</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../bibliography.html">Bibliografía</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Fundamentos</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/introduction.html">Introducción a la Electrónica</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/electricity.html">Fundamentos de Electricidad</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/programming.html">Lenguajes de Programación</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">IC555</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ne555/ic555.html">IC555</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">PIC16f877a</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pic16f877a/pic16f877a.html">PIC16F877a</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Ada</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ada/ada.html">Lenguaje de programación Ada</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Arduino</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../arduino/arduino.html">Arduino</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">ESP32</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="esp32.html">ESP32</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="atomvm.html">AtomVM</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="gladiators.html">Proyecto: Gladiadores Robots</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Raspberry PI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../raspberry/raspberry.html">Raspberry Pi</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../raspberry/nerves.html">Elixir Nerves</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../raspberry/project.html">Proyecto: Mesero Robot</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Protocolos de Comunicación</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../communication/meshtastic.html">Meshtastic</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../communication/lorawan.html">lorawan.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../communication/sigfox.html">Sigfox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../communication/zigbee.html">Zigbee</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Herramientas</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../tools/platformio.html">PlatformIO IDE</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../tools/home-assistant.html">Home Assistant</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Electrónica, Robótica e IOT con Elixir</span>
    <span class="version"></span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">Electrónica, Robótica e IOT con Elixir</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Electrónica, Robótica e IOT con Elixir</a></li>
    <li>ESP32</li>
    <li><a href="atomvm.html">AtomVM</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="file:///antora/./modules/esp32/pages/atomvm.adoc">Editar esta página</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contenidos" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">AtomVM</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>AtomVM es una máquina virtual ligera que permite ejecutar bytecode de Erlang, Elixir y LFE
(Lisp Flavored Erlang) en dispositivos incrustados con pocos recursos (como microcontroladores).
Su objetivo es hacer posible usar lenguajes del ecosistema BEAM en hardware donde la máquina virtual de
Erlang tradicional no puede correr por ser demasiado pesada.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="características-principales"><a class="anchor" href="#características-principales"></a>Características principales</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Permite usar lenguajes funcionales como Elixir en entornos de muy bajo nivel.</p>
</li>
<li>
<p>Consume muy poca memoria (menos de 500 KB en muchos casos).</p>
</li>
<li>
<p>Soporta concurrencia ligera y estructuras de datos funcionales.</p>
</li>
<li>
<p>Ideal para el desarrollo de sistemas incrustados inteligentes y compactos</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="historia"><a class="anchor" href="#historia"></a>Historia</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>AtomVM</strong> comenzó su desarrollo en el año 2018 por <strong>Pascal Gigler</strong> con el objetivo de llevar Elixir y Erlang a un hardware más pequeño.
La comunidad fue creciendo, sumando desarrolladores que aportaron soporte para nuevos dispositivos y bibliotecas,
llegando a poder realizarse proyectos industriales de IoT que necesitaban de un dispositivo con tolerancia a fallos,  y
concurrencia, las cuales tenia  el dispositivo.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ejemplo-práctico-medición-ambiental-con-atomvm-y-dht11"><a class="anchor" href="#ejemplo-práctico-medición-ambiental-con-atomvm-y-dht11"></a>Ejemplo práctico: Medición ambiental con AtomVM y DHT11</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este ejemplo usa un sensor DHT11 conectado a un ESP32, leyendo temperatura y humedad usando <strong>Elixir sobre AtomVM</strong>.</p>
</div>
<div class="paragraph">
<p>Requisitos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Microcontrolador ESP32 con AtomVM cargado.</p>
</li>
<li>
<p>Sensor DHT11 conectado al pin GPIO 4 (puedes cambiarlo).</p>
</li>
<li>
<p>Módulo nativo <code>avm_dht</code> disponible en el firmware de AtomVM.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Código fuente en Elixir</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-elixir hljs" data-lang="elixir">defmodule DHTReader do
  @dht_pin 4

  def start do
    IO.puts("Iniciando lectura del sensor DHT11...")

    loop()
  end

  defp loop do
    case :avm_dht.read(@dht_pin, :dht11) do
      {:ok, temperature, humidity} -&gt;
        IO.puts("Temperatura: #{temperature} °C")
        IO.puts("Humedad: #{humidity} %")

      {:error, reason} -&gt;
        IO.puts("Error al leer sensor: #{inspect(reason)}")
    end

    :timer.sleep(5000)  # Espera 5 segundos
    loop()
  end
end

DHTReader.start()</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="conexiones-del-sensor-dht11-al-esp32"><a class="anchor" href="#conexiones-del-sensor-dht11-al-esp32"></a>Conexiones del sensor DHT11 al ESP32</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Sensor DHT11</th>
<th class="tableblock halign-left valign-top">ESP32</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VCC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3V</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPIO 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GND</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="instrucciones"><a class="anchor" href="#instrucciones"></a>Instrucciones</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Compila el archivo con <code>elixirc dht_reader.ex</code>.</p>
</li>
<li>
<p>Sube el archivo <code>.beam</code> al ESP32 con las herramientas de AtomVM.</p>
</li>
<li>
<p>Asegúrate de incluir el módulo nativo <code>avm_dht</code> en tu firmware.</p>
</li>
<li>
<p>El ESP32 imprimirá por consola la temperatura y humedad cada 5 segundos.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>ESP32 sumado con Elixir Nerves permite crear sistemas más complejos, como sistemas de domotica,
sistemas industriales, estaciones meteorológicas con panel, etc.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/AtomVM-logo.png" alt="AtomVM logo">
</div>
</div>
<div class="paragraph">
<p>AtomVM y Elixir Nerves permiten unir el mundo del hardware incrustado con la programación funcional moderna.
Usarlos en conjunto puede llevar a soluciones más robustas, escalables y fáciles de mantener.
Además, estas tecnologías permiten desarrollar soluciones completas de IoT, automatización y
monitoreo sin depender de lenguajes más difíciles como C o C++, y aprovechando todo el ecosistema de Elixir.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="esp32.html">ESP32</a></span>
  <span class="next"><a href="gladiators.html">Proyecto: Gladiadores Robots</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Creado por miembros de <a href="https://elixircl.github.io">Elixir Chile</a></p>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script type="text/javascript">
  // Add custom scripts
</script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
  </body>
</html>
